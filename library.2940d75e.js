!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},s=t.parcelRequired7c6;function a({genres:e,vote_count:t,original_title:n,popularity:i,vote_average:s,title:a,overview:o,poster_path:l,id:r}){const c=e.map((e=>e.name)).join(", "),d=i.toFixed(1);return`    <div class="modal">\n    <button class="modal-btn-close" data-modal-close type="button">\n        <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg" class="modal-btn-close">\n            <path d="M8 8L22 22" stroke="black" stroke-width="2"/>\n            <path d="M8 22L22 8" stroke="black" stroke-width="2"/>\n        </svg>                \n    </button>\n    <div class="modal__container">  <img src="https://image.tmdb.org/t/p/w500/${l}" alt="${a}"  class="image__modal"  data-id="${r}">\n             <div class="modal__content">  \n                 <h2 class="modal__title js__modal__title">${a}</h2> \n                 <div class="modal__wrapper">\n                     <ul class="text__list">\n                         <li class="film__item js__film__item">Vote / Votes</li>\n                         <li class="film__item js__film__item">Popularity</li>\n                         <li class="film__item js__film__item">Original Title</li>\n                         <li class="film__item js__film__item">Genre</li>\n                     </ul>\n                     <ul class="film__list js__film__list">\n                         <li class=" film__text js__film__text"><span class="text__rating"> ${s.toFixed(1)} </span> / ${t}</li>\n                         <li class="film__text js__film__text">${d}</li>\n                         <li class="film__text js__film__text">${n}</li>\n                         <li class="film__text js__film__text">${c}</li>\n                     </ul>\n                 </div><div descr__wrapper>\n             <p class="description__headline js__description__headline">About</p>\n             <p class="description__text js__description text">${o}</p></div>\n                 <div class="btn__wrapper"> \n                     <button class="btn btn__watched js__btn__watched" type="button" data-id="${r}">Remove from watched list</button>\n                     <button class="btn btn__queue js__btn__queue" type="button" data-id="${r}">Remove from queued list</button>\n                      <button class="btn__trailer btn" type="button" data-id="${r}">Watch trailer</button>\n                 </div>\n            \n                 </div> \n                 </div>\n              </div>`}null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){i[e]=t},t.parcelRequired7c6=s),s("4Nugj"),s("5g02X");var o=s("5g02X"),l=s("4Nugj"),r=s("4LMMA"),c=s("iU1Pc"),d=s("cDXQO");s("iU1Pc");o=s("5g02X");function _({poster_path:e,id:t,title:n,genres:i,release_date:s,vote_average:a}){const o=i.map((e=>e.name)).join(", "),l=a.toFixed(2);return`\n    <li data-id="${t}" class="movie__item">\n      <img class="movie__image" src="https://image.tmdb.org/t/p/w500/${e}" alt="Poster of '${n}' movie" width="394" />\n      <h2 class="movie__title">${n}</h2>\n      <p data-id="${t}" class="movie__details">\n          <span class="movie__genre">${o}</span\n          >|<span class="movie__year-of-relise">${s.slice(0,4)}</span><span class="movie__rating">${l}</span>\n      </p>\n    </li>`}s("4Nugj");function f(e){return`<li class="typewriter">\n        <h2 class="type">\n          You'r ${e} is empty, go to <span><a href="./index.html" class="orange--loror" aria-label="link for Home"\n          >HOME</a\n        ></span> page for movies search :)\n        </h2>\n      </li>\n      `}l=s("4Nugj");function u(e){l.refs.notifi.innerHTML=f(e);const t=document.querySelector(".type");setTimeout((function(){t.style.opacity=1}),300)}function m(e){l.refs.notifi.innerHTML=f(e);const t=document.querySelector(".type");setTimeout((function(){t.style.opacity=1}),300)}r=s("4LMMA");function g(){l.refs.gallery.innerHTML="";const e=[...localStorage.getItem("watched")?JSON.parse(localStorage.getItem("watched")):[],...localStorage.getItem("queue")?JSON.parse(localStorage.getItem("queue")):[]];if(0===e.length)return l.refs.gallery.classList.add("hidden"),l.refs.notifi.classList.remove("hidden"),t="library",void window.addEventListener("load",(e=>{l.refs.notifi.innerHTML=f(t);const n=document.querySelector(".type");setTimeout((function(){n.style.opacity=1}),300)}));var t;l.refs.gallery.classList.remove("hidden"),e.forEach((e=>{(0,o.fetchByMovieId)(e).then((e=>{l.refs.gallery.insertAdjacentHTML("beforeend",_(e.data))})).catch((e=>console.log("Catched error >>> ",e)))}))}function p({target:e}){const t=e.dataset.id;r.removeFromWatched(t),g()}function h({target:e}){const t=e.dataset.id;r.removeFromQueue(t),g()}function v({target:e,code:t}){(e.classList.contains("backdrop")||e.classList.contains("modal-btn-close")||"Escape"===t)&&(l.refs.backdropEl.classList.add("is-hidden"),l.refs.backdropEl.innerHTML="")}g(),l.refs.watchedBtnLib.addEventListener("click",(function(){l.refs.gallery.innerHTML="";const e=r.loadFromLocStorage("watched");0!==e.length?(l.refs.gallery.classList.remove("hidden"),l.refs.notifi.classList.add("hidden"),e.forEach((e=>{(0,o.fetchByMovieId)(e).then((e=>{l.refs.gallery.insertAdjacentHTML("beforeend",_(e.data))})).catch((e=>console.log("Catched error >>> ",e)))}))):(l.refs.gallery.classList.add("hidden"),l.refs.notifi.classList.remove("hidden"),u("watched-list"),console.log("You have not watched movies"))})),l.refs.quereBtnLib.addEventListener("click",(function(){l.refs.gallery.innerHTML="";const e=r.loadFromLocStorage("queue");0!==e.length?(l.refs.gallery.classList.remove("hidden"),l.refs.notifi.classList.add("hidden"),e.forEach((e=>{(0,o.fetchByMovieId)(e).then((e=>{l.refs.gallery.insertAdjacentHTML("beforeend",_(e.data))})).catch((e=>console.log("Catched error >>> ",e)))}))):(l.refs.gallery.classList.add("hidden"),l.refs.notifi.classList.remove("hidden"),m("queue-list"),console.log("You have not movies in queue"))})),l.refs.backdropEl.addEventListener("click",v),l.refs.gallery.addEventListener("click",(async function(t){if(!t.target.parentNode.classList.contains("movie__item")&&!t.target.parentNode.classList.contains("movie__details"))return;l.refs.backdropEl.classList.remove("is-hidden"),e(c).Loading.pulse({backgroundColor:"rgba(0,0,0,0)"}),document.addEventListener("keydown",v,{once:!0});try{const n=t.target.parentNode.dataset.id,{data:i}=await(0,o.fetchByMovieId)(n),s=await a(i);l.refs.backdropEl.innerHTML=s,e(c).Loading.remove();const r=document.querySelector(".js__btn__watched"),_=document.querySelector(".js__btn__queue");return document.querySelector(".btn__trailer").addEventListener("click",d.onPlayTrailer),r.addEventListener("click",p,{once:!0}),void _.addEventListener("click",h,{once:!0})}catch(e){console.log(e)}})),s("aZhHc"),s("1lIYe"),s("9tZgi")}();
//# sourceMappingURL=library.2940d75e.js.map
