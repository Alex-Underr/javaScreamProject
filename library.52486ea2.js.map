{"mappings":"gfAAAA,EAAA,S,iCCAAA,EAAA,S,iBCAO,SAASC,GAA4BC,YAC1CA,EAAWC,GACXA,EAAEC,MACFA,EAAKC,OACLA,EAAMC,aACNA,EAAYC,aACZA,IAEA,MAAMC,EAAaH,EAAOI,KAAIC,GAAMA,EAAGC,OAAMC,KAAK,MAC5CC,EAASN,EAAaO,QAAQ,GACpC,MAAO,sBACUX,iGACoDD,sBAAgCE,4DACtEA,6BACbD,oEACmBK,4DACWF,EAAaS,MACnD,EACA,wCACqCF,iCAGjD,C,iBCtBO,SAASG,EAAyBL,GACvC,MAAO,uEAESA,qMAMlB,C,aCIO,SAASM,EAAwBN,GACtCO,EAAAC,KAAKC,OAAOC,UAAYL,EAAyBL,GACjD,MAAMW,EAAQC,SAASC,cAAc,SACrCC,YAAW,WACTH,EAAMI,MAAMC,QAAU,CACxB,GAAG,IACL,CAEO,SAASC,EAAsBjB,GACpCO,EAAAC,KAAKC,OAAOC,UAAYL,EAAyBL,GACjD,MAAMW,EAAQC,SAASC,cAAc,SACrCC,YAAW,WACTH,EAAMI,MAAMC,QAAU,CACxB,GAAG,IACL,C,kBHhBA,WACET,EAAAC,KAAKU,QAAQR,UAAY,GAUzB,MAAMS,EAAoB,IARLC,aAAaC,QAAQ,WACtCC,KAAKC,MAAMH,aAAaC,QAAQ,YAChC,MAEeD,aAAaC,QAAQ,SACpCC,KAAKC,MAAMH,aAAaC,QAAQ,UAChC,IAIJ,GAAiC,IAA7BF,EAAkBK,OAKpB,OAJAjB,EAAAC,KAAKU,QAAQO,UAAUC,IAAI,UAC3BnB,EAAAC,KAAKC,OAAOgB,UAAUE,OAAO,UGvBA3B,EHyBZ,eGxBnB4B,OAAOC,iBAAiB,QAAQC,IAC9BvB,EAAAC,KAAKC,OAAOC,UAAYL,EAAyBL,GACjD,MAAMW,EAAQC,SAASC,cAAc,SACrCC,YAAW,WACTH,EAAMI,MAAMC,QAAU,CACxB,GAAG,QANA,IAA0BhB,EH4B/BO,EAAAC,KAAKU,QAAQO,UAAUE,OAAO,UAC9BR,EAAkBY,SAAQC,KACxB,EAAAC,EAAAC,gBAAeF,GACZG,MAAKC,IACJ7B,EAAAC,KAAKU,QAAQmB,mBACX,YACA/C,EAA4B8C,EAAIE,MAAI,IAGvCC,OAAMC,GAAOC,QAAQC,IAAI,qBAAsBF,IAAA,GAEtD,CAsDAG,GAEApC,EAAAC,KAAKoC,cAAcf,iBAAiB,SAtDpC,WACEtB,EAAAC,KAAKU,QAAQR,UAAY,GACzB,MAAMmC,EAAoBC,EAAAC,mBAA4B,WACrB,IAA7BF,EAAkBrB,QACpBjB,EAAAC,KAAKU,QAAQO,UAAUE,OAAO,UAC9BpB,EAAAC,KAAKC,OAAOgB,UAAUC,IAAI,UAE1BmB,EAAkBd,SAAQC,KACxB,EAAAC,EAAAC,gBAAeF,GACZG,MAAKC,IACJ7B,EAAAC,KAAKU,QAAQmB,mBACX,YACA/C,EAA4B8C,EAAIE,MAAI,IAGvCC,OAAMC,GAAOC,QAAQC,IAAI,qBAAsBF,IAAA,MAGpDjC,EAAAC,KAAKU,QAAQO,UAAUC,IAAI,UAC3BnB,EAAAC,KAAKC,OAAOgB,UAAUE,OAAO,UAE7BrB,EAAwB,gBACxBmC,QAAQC,IAAI,+BAEhB,IAgCAnC,EAAAC,KAAKwC,YAAYnB,iBAAiB,SA9BlC,WACEtB,EAAAC,KAAKU,QAAQR,UAAY,GACzB,MAAMuC,EAAkBH,EAAAC,mBAA4B,SACrB,IAA3BE,EAAgBzB,QAClBjB,EAAAC,KAAKU,QAAQO,UAAUE,OAAO,UAC9BpB,EAAAC,KAAKC,OAAOgB,UAAUC,IAAI,UAE1BuB,EAAgBlB,SAAQC,KACtB,EAAAC,EAAAC,gBAAeF,GACZG,MAAKC,IACJ7B,EAAAC,KAAKU,QAAQmB,mBACX,YACA/C,EAA4B8C,EAAIE,MAAI,IAGvCC,OAAMC,GAAOC,QAAQC,IAAI,qBAAsBF,IAAA,MAGpDjC,EAAAC,KAAKU,QAAQO,UAAUC,IAAI,UAC3BnB,EAAAC,KAAKC,OAAOgB,UAAUE,OAAO,UAE7BV,EAAsB,cACtBwB,QAAQC,IAAI,gCAEhB,I","sources":["src/library.js","src/js/loading_library.js","src/markup/markup-library-card.js","src/markup/markup-notification.js","src/js/type-writer-effect.js"],"sourcesContent":["import './js/refs';\nimport './js/fetch';\nimport './js/modal';\nimport './js/modal-team';\nimport './js/loading_library';\nimport './js/top-page';\nimport './js/screen-theme';\n","import Notiflix from 'notiflix';\nimport { fetchByMovieId } from './fetch';\nimport { createMarkupCardsForLibrary } from '../markup/markup-library-card';\nimport { refs } from './refs';\nimport {\n  typeWriterEffect,\n  typeWriterEffectWatched,\n  typeWriterEffectQueue,\n} from './type-writer-effect';\nimport * as lsModule from './local-storage';\n\nfunction startPageLibrary() {\n  refs.gallery.innerHTML = '';\n\n  let watchedLibrary = localStorage.getItem('watched')\n    ? JSON.parse(localStorage.getItem('watched'))\n    : [];\n\n  let queueLibrary = localStorage.getItem('queue')\n    ? JSON.parse(localStorage.getItem('queue'))\n    : [];\n\n  const libraryLocStorage = [...watchedLibrary, ...queueLibrary];\n\n  if (libraryLocStorage.length === 0) {\n    refs.gallery.classList.add('hidden');\n    refs.notifi.classList.remove('hidden');\n\n    typeWriterEffect('library');\n    return;\n  }\n  refs.gallery.classList.remove('hidden');\n  libraryLocStorage.forEach(element => {\n    fetchByMovieId(element)\n      .then(res => {\n        refs.gallery.insertAdjacentHTML(\n          'beforeend',\n          createMarkupCardsForLibrary(res.data)\n        );\n      })\n      .catch(err => console.log('Catched error >>> ', err));\n  });\n}\n\nfunction onWatchedBtnclick() {\n  refs.gallery.innerHTML = '';\n  const watchedLocStorage = lsModule.loadFromLocStorage('watched');\n  if (watchedLocStorage.length !== 0) {\n    refs.gallery.classList.remove('hidden');\n    refs.notifi.classList.add('hidden');\n\n    watchedLocStorage.forEach(element => {\n      fetchByMovieId(element)\n        .then(res => {\n          refs.gallery.insertAdjacentHTML(\n            'beforeend',\n            createMarkupCardsForLibrary(res.data)\n          );\n        })\n        .catch(err => console.log('Catched error >>> ', err));\n    });\n  } else {\n    refs.gallery.classList.add('hidden');\n    refs.notifi.classList.remove('hidden');\n\n    typeWriterEffectWatched('watched-list');\n    console.log('You have not watched movies');\n  }\n}\n\nfunction onQueueBtnclick() {\n  refs.gallery.innerHTML = '';\n  const queueLocStorage = lsModule.loadFromLocStorage('queue');\n  if (queueLocStorage.length !== 0) {\n    refs.gallery.classList.remove('hidden');\n    refs.notifi.classList.add('hidden');\n\n    queueLocStorage.forEach(element => {\n      fetchByMovieId(element)\n        .then(res => {\n          refs.gallery.insertAdjacentHTML(\n            'beforeend',\n            createMarkupCardsForLibrary(res.data)\n          );\n        })\n        .catch(err => console.log('Catched error >>> ', err));\n    });\n  } else {\n    refs.gallery.classList.add('hidden');\n    refs.notifi.classList.remove('hidden');\n\n    typeWriterEffectQueue('queue-list');\n    console.log('You have not movies in queue');\n  }\n}\n\nstartPageLibrary();\n\nrefs.watchedBtnLib.addEventListener('click', onWatchedBtnclick);\n\nrefs.quereBtnLib.addEventListener('click', onQueueBtnclick);\n","export function createMarkupCardsForLibrary({\n  poster_path,\n  id,\n  title,\n  genres,\n  release_date,\n  vote_average,\n}) {\n  const genreNames = genres.map(el => el.name).join(', ');\n  const rating = vote_average.toFixed(2);\n  return `\n    <li data-id=\"${id}\" class=\"movie__item\">\n      <img class=\"movie__image\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"Poster of '${title}' movie\" width=\"394\" />\n      <h2 class=\"movie__title\">${title}</h2>\n      <p data-id=\"${id}\" class=\"movie__details\">\n          <span class=\"movie__genre\">${genreNames}</span\n          >|<span class=\"movie__year-of-relise\">${release_date.slice(\n            0,\n            4\n          )}</span><span class=\"movie__rating\">${rating}</span>\n      </p>\n    </li>`;\n}\n","export function createNotificationMarkup(name) {\n  return `<li class=\"typewriter\">\n        <h2 class=\"type\">\n          You'r ${name} is empty, go to <span><a href=\"./index.html\" class=\"orange--loror\" aria-label=\"link for Home\"\n          >HOME</a\n        ></span> page for movies search :)\n        </h2>\n      </li>\n      `;\n}\n","import { createNotificationMarkup } from '../markup/markup-notification';\nimport { refs } from './refs';\n\nexport function typeWriterEffect(name) {\n  window.addEventListener('load', event => {\n    refs.notifi.innerHTML = createNotificationMarkup(name);\n    const timer = document.querySelector('.type');\n    setTimeout(function () {\n      timer.style.opacity = 1;\n    }, 300);\n  });\n}\n\nexport function typeWriterEffectWatched(name) {\n  refs.notifi.innerHTML = createNotificationMarkup(name);\n  const timer = document.querySelector('.type');\n  setTimeout(function () {\n    timer.style.opacity = 1;\n  }, 300);\n}\n\nexport function typeWriterEffectQueue(name) {\n  refs.notifi.innerHTML = createNotificationMarkup(name);\n  const timer = document.querySelector('.type');\n  setTimeout(function () {\n    timer.style.opacity = 1;\n  }, 300);\n}\n"],"names":["parcelRequire","$0188f6725ff8ba52$export$8592154eba171398","poster_path","id","title","genres","release_date","vote_average","genreNames","map","el","name","join","rating","toFixed","slice","$9fdc6ea2df9fc280$export$207f1e7bd0b1f66e","$35f39f6f4caa9bf7$export$7df31c4d4be573e2","$4Nugj","refs","notifi","innerHTML","timer","document","querySelector","setTimeout","style","opacity","$35f39f6f4caa9bf7$export$f3ddd6372b94220b","gallery","libraryLocStorage","localStorage","getItem","JSON","parse","length","classList","add","remove","window","addEventListener","event","forEach","element","$5g02X","fetchByMovieId","then","res","insertAdjacentHTML","data","catch","err","console","log","$6376694b3a2300aa$var$startPageLibrary","watchedBtnLib","watchedLocStorage","$4LMMA","loadFromLocStorage","quereBtnLib","queueLocStorage"],"version":3,"file":"library.52486ea2.js.map"}