{"mappings":"sOAAO,SAASA,GAA4BC,OACxCA,EAAMC,WACNA,EAAUC,eACVA,EAAcC,WACdA,EAAUC,aACVA,EAAYC,MACZA,EAAKC,SACLA,EAAQC,YACRA,EAAWC,GACXA,IAEA,MAAMC,EAAaT,EAAOU,KAAIC,GAAMA,EAAGC,OAAMC,KAAK,MAC5CC,EAAgBX,EAAWY,QAAQ,GAEzC,MAAO,ueAOqER,WAAqBF,sCAA0CG,gHAElFH,+lBAVhCD,EAAaW,QAAQ,gBAmB0Ed,0EAC3Da,0EACAZ,0EACAO,sOAIAH,4JAE+BE,mIACJA,sHACZA,2IAM9E,C,+SCjDFQ,EAAA,S,gFCAAA,EAAA,S,aCAO,SAASC,GAA4BV,YAC1CA,EAAWC,GACXA,EAAEH,MACFA,EAAKL,OACLA,EAAMkB,aACNA,EAAYd,aACZA,IAEA,MAAMe,EAAanB,EAAOU,KAAIC,GAAMA,EAAGC,OAAMC,KAAK,MAC5CO,EAAShB,EAAaW,QAAQ,GACpC,MAAO,sBACUP,iGACoDD,sBAAgCF,4DACtEA,6BACbG,oEACmBW,4DACWD,EAAaG,MACnD,EACA,wCACqCD,iCAGjD,C,WCtBO,SAASE,EAAyBV,GACvC,MAAO,uEAESA,qMAMlB,C,aCIO,SAASW,EAAwBX,GACtCY,EAAAC,KAAKC,OAAOC,UAAYL,EAAyBV,GACjD,MAAMgB,EAAQC,SAASC,cAAc,SACrCC,YAAW,WACTH,EAAMI,MAAMC,QAAU,CACxB,GAAG,IACL,CAEO,SAASC,EAAsBtB,GACpCY,EAAAC,KAAKC,OAAOC,UAAYL,EAAyBV,GACjD,MAAMgB,EAAQC,SAASC,cAAc,SACrCC,YAAW,WACTH,EAAMI,MAAMC,QAAU,CACxB,GAAG,IACL,C,aHhBO,SAASE,IACdX,EAAAC,KAAKW,QAAQT,UAAY,GAUzB,MAAMU,EAAoB,IARLC,aAAaC,QAAQ,WACtCC,KAAKC,MAAMH,aAAaC,QAAQ,YAChC,MAEeD,aAAaC,QAAQ,SACpCC,KAAKC,MAAMH,aAAaC,QAAQ,UAChC,IAIJ,GAAiC,IAA7BF,EAAkBK,OAKpB,OAJAlB,EAAAC,KAAKW,QAAQO,UAAUC,IAAI,UAC3BpB,EAAAC,KAAKC,OAAOiB,UAAUE,OAAO,UGvBAjC,EHyBZ,eGxBnBkC,OAAOC,iBAAiB,QAAQC,IAC9BxB,EAAAC,KAAKC,OAAOC,UAAYL,EAAyBV,GACjD,MAAMgB,EAAQC,SAASC,cAAc,SACrCC,YAAW,WACTH,EAAMI,MAAMC,QAAU,CACxB,GAAG,QANA,IAA0BrB,EH4B/BY,EAAAC,KAAKW,QAAQO,UAAUE,OAAO,UAC9BR,EAAkBY,SAAQC,KACxB,EAAAC,EAAAC,gBAAeF,GACZG,MAAKC,IACJ9B,EAAAC,KAAKW,QAAQmB,mBACX,YACAtC,EAA4BqC,EAAIE,MAAI,IAGvCC,OAAMC,GAAOC,QAAQC,IAAI,qBAAsBF,IAAA,GAEtD,CIIA,SAASG,GAAwBC,OAAEA,IAC/B,MAAMC,EAAeD,EAAOE,QAAQxD,GACpCyD,EAAAC,kBAA2BH,GAC3B5B,GACF,CAEA,SAASgC,GAAsBL,OAAEA,IAC/B,MAAMM,EAAcN,EAAOE,QAAQxD,GACnCyD,EAAAI,gBAAyBD,GACzBjC,GACF,CAGF,SAASmC,GAAWR,OAAEA,EAAMS,KAAEA,KAEvBT,EAAOnB,UAAU6B,SAAS,aAC1BV,EAAOnB,UAAU6B,SAAS,oBAClB,WAATD,KAIF/C,EAAAC,KAAKgD,WAAW9B,UAAUC,IAAI,aAC9BpB,EAAAC,KAAKgD,WAAW9C,UAAY,GAC9B,CJ2BFQ,IAEAX,EAAAC,KAAKiD,cAAc3B,iBAAiB,SAtDpC,WACEvB,EAAAC,KAAKW,QAAQT,UAAY,GACzB,MAAMgD,EAAoBV,EAAAW,mBAA4B,WACrB,IAA7BD,EAAkBjC,QACpBlB,EAAAC,KAAKW,QAAQO,UAAUE,OAAO,UAC9BrB,EAAAC,KAAKC,OAAOiB,UAAUC,IAAI,UAE1B+B,EAAkB1B,SAAQC,KACxB,EAAAC,EAAAC,gBAAeF,GACZG,MAAKC,IACJ9B,EAAAC,KAAKW,QAAQmB,mBACX,YACAtC,EAA4BqC,EAAIE,MAAI,IAGvCC,OAAMC,GAAOC,QAAQC,IAAI,qBAAsBF,IAAA,MAGpDlC,EAAAC,KAAKW,QAAQO,UAAUC,IAAI,UAC3BpB,EAAAC,KAAKC,OAAOiB,UAAUE,OAAO,UAE7BtB,EAAwB,gBACxBoC,QAAQC,IAAI,+BAEhB,IAgCApC,EAAAC,KAAKoD,YAAY9B,iBAAiB,SA9BlC,WACEvB,EAAAC,KAAKW,QAAQT,UAAY,GACzB,MAAMmD,EAAkBb,EAAAW,mBAA4B,SACrB,IAA3BE,EAAgBpC,QAClBlB,EAAAC,KAAKW,QAAQO,UAAUE,OAAO,UAC9BrB,EAAAC,KAAKC,OAAOiB,UAAUC,IAAI,UAE1BkC,EAAgB7B,SAAQC,KACtB,EAAAC,EAAAC,gBAAeF,GACZG,MAAKC,IACJ9B,EAAAC,KAAKW,QAAQmB,mBACX,YACAtC,EAA4BqC,EAAIE,MAAI,IAGvCC,OAAMC,GAAOC,QAAQC,IAAI,qBAAsBF,IAAA,MAGpDlC,EAAAC,KAAKW,QAAQO,UAAUC,IAAI,UAC3BpB,EAAAC,KAAKC,OAAOiB,UAAUE,OAAO,UAE7BX,EAAsB,cACtByB,QAAQC,IAAI,gCAEhB,IItFApC,EAAAC,KAAKgD,WAAW1B,iBAAiB,QAASuB,GAC1C9C,EAAAC,KAAKW,QAAQW,iBAAiB,SAE9BgC,eAA+B/B,GAC7B,IACGA,EAAMc,OAAOkB,WAAWrC,UAAU6B,SAAS,iBAC3CxB,EAAMc,OAAOkB,WAAWrC,UAAU6B,SAAS,kBAE5C,OAEFhD,EAAAC,KAAKgD,WAAW9B,UAAUE,OAAO,aACjCoC,EAAAC,GAASC,QAAQC,MAAM,CACrBC,gBAAiB,kBAEnBxD,SAASkB,iBAAiB,UAAWuB,EAAY,CAAEgB,MAAM,IACzD,IACE,MAAMC,EAAWvC,EAAMc,OAAOkB,WAAWhB,QAAQxD,IAC3CgD,KAAEA,SAAe,EAAAL,EAAAC,gBAAemC,GAChCC,QAAoBzF,EAA4ByD,GACtDhC,EAAAC,KAAKgD,WAAW9C,UAAY6D,EAC5BP,EAAAC,GAASC,QAAQtC,SACjB,MAAM4C,EAAe5D,SAASC,cAAc,qBACtC4D,EAAc7D,SAASC,cAAc,mBASzC,OARiBD,SAASC,cAAc,iBAC/BiB,iBAAiB,QAAS4C,EAAAC,eACnCH,EAAa1C,iBAAiB,QAASc,EAAyB,CAC9DyB,MAAM,SAERI,EAAY3C,iBAAiB,QAASoB,EAAuB,CAC3DmB,MAAM,GAMZ,CAFE,MAAO5B,GACPC,QAAQC,IAAIF,EACd,CACF,I","sources":["src/markup/markup-modal-library.js","src/library.js","src/js/loading_library.js","src/markup/markup-library-card.js","src/markup/markup-notification.js","src/js/type-writer-effect.js","src/js/modal-library.js"],"sourcesContent":["export function createElementOfModalLibrary({\n    genres,\n    vote_count,\n    original_title,\n    popularity,\n    vote_average,\n    title,\n    overview,\n    poster_path,\n    id,\n  }) {\n    const genresList = genres.map(el => el.name).join(', ');\n    const popularRating = popularity.toFixed(1);\n    const fixedVoteAverage = vote_average.toFixed(1);\n    return `    <div class=\"modal\">\n    <button class=\"modal-btn-close\" data-modal-close type=\"button\">\n        <svg width=\"30\" height=\"30\" viewBox=\"0 0 30 30\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" class=\"modal-btn-close\">\n            <path d=\"M8 8L22 22\" stroke=\"black\" stroke-width=\"2\"/>\n            <path d=\"M8 22L22 8\" stroke=\"black\" stroke-width=\"2\"/>\n        </svg>                \n    </button>\n    <div class=\"modal__container\">  <img src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"${title}\"  class=\"image__modal\"  data-id=\"${id}\">\n             <div class=\"modal__content\">  \n                 <h2 class=\"modal__title js__modal__title\">${title}</h2> \n                 <div class=\"modal__wrapper\">\n                     <ul class=\"text__list\">\n                         <li class=\"film__item js__film__item\">Vote / Votes</li>\n                         <li class=\"film__item js__film__item\">Popularity</li>\n                         <li class=\"film__item js__film__item\">Original Title</li>\n                         <li class=\"film__item js__film__item\">Genre</li>\n                     </ul>\n                     <ul class=\"film__list js__film__list\">\n                         <li class=\" film__text js__film__text\"><span class=\"text__rating\"> ${fixedVoteAverage} </span> / ${vote_count}</li>\n                         <li class=\"film__text js__film__text\">${popularRating}</li>\n                         <li class=\"film__text js__film__text\">${original_title}</li>\n                         <li class=\"film__text js__film__text\">${genresList}</li>\n                     </ul>\n                 </div><div descr__wrapper>\n             <p class=\"description__headline js__description__headline\">About</p>\n             <p class=\"description__text js__description text\">${overview}</p></div>\n                 <div class=\"btn__wrapper\"> \n                     <button class=\"btn btn__watched js__btn__watched\" type=\"button\" data-id=\"${id}\">Remove from watched list</button>\n                     <button class=\"btn btn__queue js__btn__queue\" type=\"button\" data-id=\"${id}\">Remove from queued list</button>\n                      <button class=\"btn__trailer btn\" type=\"button\" data-id=\"${id}\">Watch trailer</button>\n                 </div>\n            \n                 </div> \n                 </div>\n              </div>`;\n  }\n  ","import './js/refs';\nimport './js/fetch';\nimport './js/modal-library';\nimport './js/modal-team';\nimport './js/loading_library';\nimport './js/top-page';\nimport './js/screen-theme';\n","import Notiflix from 'notiflix';\nimport { fetchByMovieId } from './fetch';\nimport { createMarkupCardsForLibrary } from '../markup/markup-library-card';\nimport { refs } from './refs';\nimport {\n  typeWriterEffect,\n  typeWriterEffectWatched,\n  typeWriterEffectQueue,\n} from './type-writer-effect';\nimport * as lsModule from './local-storage';\n\nexport function startPageLibrary() {\n  refs.gallery.innerHTML = '';\n\n  let watchedLibrary = localStorage.getItem('watched')\n    ? JSON.parse(localStorage.getItem('watched'))\n    : [];\n\n  let queueLibrary = localStorage.getItem('queue')\n    ? JSON.parse(localStorage.getItem('queue'))\n    : [];\n\n  const libraryLocStorage = [...watchedLibrary, ...queueLibrary];\n\n  if (libraryLocStorage.length === 0) {\n    refs.gallery.classList.add('hidden');\n    refs.notifi.classList.remove('hidden');\n\n    typeWriterEffect('library');\n    return;\n  }\n  refs.gallery.classList.remove('hidden');\n  libraryLocStorage.forEach(element => {\n    fetchByMovieId(element)\n      .then(res => {\n        refs.gallery.insertAdjacentHTML(\n          'beforeend',\n          createMarkupCardsForLibrary(res.data)\n        );\n      })\n      .catch(err => console.log('Catched error >>> ', err));\n  });\n}\n\nfunction onWatchedBtnclick() {\n  refs.gallery.innerHTML = '';\n  const watchedLocStorage = lsModule.loadFromLocStorage('watched');\n  if (watchedLocStorage.length !== 0) {\n    refs.gallery.classList.remove('hidden');\n    refs.notifi.classList.add('hidden');\n\n    watchedLocStorage.forEach(element => {\n      fetchByMovieId(element)\n        .then(res => {\n          refs.gallery.insertAdjacentHTML(\n            'beforeend',\n            createMarkupCardsForLibrary(res.data)\n          );\n        })\n        .catch(err => console.log('Catched error >>> ', err));\n    });\n  } else {\n    refs.gallery.classList.add('hidden');\n    refs.notifi.classList.remove('hidden');\n\n    typeWriterEffectWatched('watched-list');\n    console.log('You have not watched movies');\n  }\n}\n\nfunction onQueueBtnclick() {\n  refs.gallery.innerHTML = '';\n  const queueLocStorage = lsModule.loadFromLocStorage('queue');\n  if (queueLocStorage.length !== 0) {\n    refs.gallery.classList.remove('hidden');\n    refs.notifi.classList.add('hidden');\n\n    queueLocStorage.forEach(element => {\n      fetchByMovieId(element)\n        .then(res => {\n          refs.gallery.insertAdjacentHTML(\n            'beforeend',\n            createMarkupCardsForLibrary(res.data)\n          );\n        })\n        .catch(err => console.log('Catched error >>> ', err));\n    });\n  } else {\n    refs.gallery.classList.add('hidden');\n    refs.notifi.classList.remove('hidden');\n\n    typeWriterEffectQueue('queue-list');\n    console.log('You have not movies in queue');\n  }\n}\n\nstartPageLibrary();\n\nrefs.watchedBtnLib.addEventListener('click', onWatchedBtnclick);\n\nrefs.quereBtnLib.addEventListener('click', onQueueBtnclick);\n","export function createMarkupCardsForLibrary({\n  poster_path,\n  id,\n  title,\n  genres,\n  release_date,\n  vote_average,\n}) {\n  const genreNames = genres.map(el => el.name).join(', ');\n  const rating = vote_average.toFixed(2);\n  return `\n    <li data-id=\"${id}\" class=\"movie__item\">\n      <img class=\"movie__image\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\" alt=\"Poster of '${title}' movie\" width=\"394\" />\n      <h2 class=\"movie__title\">${title}</h2>\n      <p data-id=\"${id}\" class=\"movie__details\">\n          <span class=\"movie__genre\">${genreNames}</span\n          >|<span class=\"movie__year-of-relise\">${release_date.slice(\n            0,\n            4\n          )}</span><span class=\"movie__rating\">${rating}</span>\n      </p>\n    </li>`;\n}\n","export function createNotificationMarkup(name) {\n  return `<li class=\"typewriter\">\n        <h2 class=\"type\">\n          You'r ${name} is empty, go to <span><a href=\"./index.html\" class=\"orange--loror\" aria-label=\"link for Home\"\n          >HOME</a\n        ></span> page for movies search :)\n        </h2>\n      </li>\n      `;\n}\n","import { createNotificationMarkup } from '../markup/markup-notification';\nimport { refs } from './refs';\n\nexport function typeWriterEffect(name) {\n  window.addEventListener('load', event => {\n    refs.notifi.innerHTML = createNotificationMarkup(name);\n    const timer = document.querySelector('.type');\n    setTimeout(function () {\n      timer.style.opacity = 1;\n    }, 300);\n  });\n}\n\nexport function typeWriterEffectWatched(name) {\n  refs.notifi.innerHTML = createNotificationMarkup(name);\n  const timer = document.querySelector('.type');\n  setTimeout(function () {\n    timer.style.opacity = 1;\n  }, 300);\n}\n\nexport function typeWriterEffectQueue(name) {\n  refs.notifi.innerHTML = createNotificationMarkup(name);\n  const timer = document.querySelector('.type');\n  setTimeout(function () {\n    timer.style.opacity = 1;\n  }, 300);\n}\n","import { createElementOfModalLibrary } from '../markup/markup-modal-library';\nimport { fetchByMovieId } from './fetch';\nimport { refs } from './refs';\nimport * as lsModule from './local-storage';\nimport Notiflix from 'notiflix';\nimport {onPlayTrailer} from './trailer';\nimport {startPageLibrary} from './loading_library';\n\nrefs.backdropEl.addEventListener('click', closeModal);\nrefs.gallery.addEventListener('click', handleOpenModal);\n\nasync function handleOpenModal(event) {\n  if (\n    !event.target.parentNode.classList.contains('movie__item') &&\n    !event.target.parentNode.classList.contains('movie__details')\n  ) {\n    return;\n  }\n  refs.backdropEl.classList.remove('is-hidden');\n  Notiflix.Loading.pulse({\n    backgroundColor: 'rgba(0,0,0,0)',\n  });\n  document.addEventListener('keydown', closeModal, { once: true });\n  try {\n    const idOfCard = event.target.parentNode.dataset.id;\n    const { data } = await fetchByMovieId(idOfCard);\n    const createModal = await createElementOfModalLibrary(data);\n    refs.backdropEl.innerHTML = createModal;\n    Notiflix.Loading.remove();\n    const watchedBtnEl = document.querySelector('.js__btn__watched');\n    const ququedBtnEl = document.querySelector('.js__btn__queue');\n    const filmCardEl = document.querySelector('.btn__trailer');\n    filmCardEl.addEventListener('click', onPlayTrailer);\n      watchedBtnEl.addEventListener('click', handleremoveFromWatched, {\n        once: true,\n      });\n      ququedBtnEl.addEventListener('click', handleremoveFromQuuue, {\n        once: true,\n      });\n      return;\n    \n  } catch (err) {\n    console.log(err);\n  }\n}\n\nfunction handleremoveFromWatched({ target }) {\n    const watchedBtnId = target.dataset.id;\n    lsModule.removeFromWatched(watchedBtnId);\n    startPageLibrary();\n  }\n  \n  function handleremoveFromQuuue({ target }) {\n    const ququedBtnId = target.dataset.id;\n    lsModule.removeFromQueue(ququedBtnId);\n    startPageLibrary();\n  }\n\n  \nfunction closeModal({ target, code }) {\n    if (\n      !target.classList.contains('backdrop') &&\n      !target.classList.contains('modal-btn-close') &&\n      code !== 'Escape'\n    ) {\n      return;\n    }\n    refs.backdropEl.classList.add('is-hidden');\n    refs.backdropEl.innerHTML = '';\n  }\n  \n  "],"names":["$c31fd59c7600130e$export$8ae216d59645c186","genres","vote_count","original_title","popularity","vote_average","title","overview","poster_path","id","genresList","map","el","name","join","popularRating","toFixed","parcelRequire","$c6fcbd7e122b7c50$export$8592154eba171398","release_date","genreNames","rating","slice","$7b560ccb38fe6667$export$207f1e7bd0b1f66e","$c1a8013a612fe148$export$7df31c4d4be573e2","$krGWQ","refs","notifi","innerHTML","timer","document","querySelector","setTimeout","style","opacity","$c1a8013a612fe148$export$f3ddd6372b94220b","$901d378d4b52c5ac$export$8e36fb3d61181028","gallery","libraryLocStorage","localStorage","getItem","JSON","parse","length","classList","add","remove","window","addEventListener","event","forEach","element","$cyIMT","fetchByMovieId","then","res","insertAdjacentHTML","data","catch","err","console","log","$2631b5b1e00936b8$var$handleremoveFromWatched","target","watchedBtnId","dataset","$b5rV1","removeFromWatched","$2631b5b1e00936b8$var$handleremoveFromQuuue","ququedBtnId","removeFromQueue","$2631b5b1e00936b8$var$closeModal","code","contains","backdropEl","watchedBtnLib","watchedLocStorage","loadFromLocStorage","quereBtnLib","queueLocStorage","async","parentNode","$parcel$interopDefault","$eWCmQ","Loading","pulse","backgroundColor","once","idOfCard","createModal","watchedBtnEl","ququedBtnEl","$37v9V","onPlayTrailer"],"version":3,"file":"library.c713d9ef.js.map"}